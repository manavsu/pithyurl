import{a as F,t as G}from"../chunks/disclose-version.CoBKQcF1.js";import{i as J}from"../chunks/legacy.Bjnam0it.js";import{x as v,Z as K,_ as Y,$ as j,a0 as Z,a1 as z,a2 as H,p as Q,t as W,a as X,d as o,g as l,a3 as f,s as u,c as n,a4 as ee,r as i}from"../chunks/runtime.DLY1pVKA.js";import{a as re,l as te,d as ae,e as se,s as C}from"../chunks/render.BcH34Vk_.js";function le(e){if(v){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;S(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var a=e.checked;S(e,"checked",null),e.checked=a}}};e.__on_r=t,K(t),re()}}function S(e,r,t,s){var a=e.__attributes??(e.__attributes={});v&&(a[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||a[r]!==(a[r]=t)&&(r==="style"&&"__styles"in e&&(e.__styles={}),r==="loading"&&(e[Y]=t),t==null?e.removeAttribute(r):typeof t!="string"&&oe(e).includes(r)?e[r]=t:e.setAttribute(r,t))}var q=new Map;function oe(e){var r=q.get(e.nodeName);if(r)return r;q.set(e.nodeName,r=[]);for(var t,s=j(e),a=Element.prototype;a!==s;){t=Z(s);for(var c in t)t[c].set&&r.push(c);s=j(s)}return r}function g(e,r){var t=e.__className,s=ne(r);v&&e.className===s?e.__className=s:(t!==s||v&&e.className!==s)&&(r==null?e.removeAttribute("class"):e.className=s,e.__className=s)}function ne(e){return e??""}function ie(e,r,t=r){var s=z();te(e,"input",()=>{var a=A(e)?T(e.value):e.value;t(a),s&&a!==(a=r())&&(e.value=a??"")}),H(()=>{var a=r();if(v&&e.defaultValue!==e.value){t(A(e)?T(e.value):e.value);return}A(e)&&a===T(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function A(e){var r=e.type;return r==="number"||r==="range"}function T(e){return e===""?null:+e}const ce="https://pithyurl.duckdns.org";async function fe(e){const r=await fetch(`${ce}/urls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!r.ok)throw new Error(r.status+r.statusText);return r.json()}var ue=(e,r)=>o(r,!1),de=(e,r,t)=>r(l(t)),_e=(e,r)=>o(r,!1),ve=G('<div class="flex h-full w-full flex-col items-center justify-center gap-20"><div class="flex flex-col items-center gap-4"><h1 class="text-8xl">PithyURL</h1> <p class="text-4xl">Create Short URLs!</p></div> <div class="h-50 flex flex-row pb-2"><div><form class="flex h-full flex-col items-center gap-4 px-8"><input id="longURL" type="url" class="w-96 rounded-full border-2 border-white bg-transparent px-5 py-1 text-3xl focus:outline-none" required> <button type="submit" class="rounded-full border-2 border-white bg-white px-8 text-3xl text-black transition hover:scale-110">→</button></form></div> <div><div class="flex flex-col items-center gap-4"><p class="text-nowrap text-3xl"> </p> <button class="rounded-full border-2 border-white px-8 text-3xl transition hover:scale-110">←</button></div></div> <div><div class="flex h-full flex-col items-center gap-4 px-8"><a target="_blank" class="text-nowrap rounded-full bg-white px-5 py-1 text-2xl text-black transition hover:scale-110"> </a> <button>⧉</button> <button class="rounded-full border-2 border-white px-8 text-3xl transition hover:scale-110">←</button></div></div></div></div>');function ge(e,r){Q(r,!1);let t=f(!1),s=f(""),a=f(!1),c=f(""),m=f(""),x=f(!1),w=f(!1);async function D(d){o(m,""),o(c,""),o(t,!0),d.preventDefault();try{let _=await fe(l(s));o(c,_.url),o(a,!0)}catch(_){o(m,_.message),o(x,!0)}o(t,!1)}function I(d){navigator.clipboard.writeText(d).then(()=>{o(w,!0)}).catch(_=>{console.error("Failed to copy: ",_)}).then(()=>{setTimeout(()=>{o(w,!1)},400)})}J();var y=ve(),U=u(n(y),2),h=n(U),k=n(h),$=n(k);le($),ee(2),i(k),i(h);var p=u(h,2),E=n(p),N=n(E),M=n(N,!0);i(N);var P=u(N,2);P.__click=[ue,x],i(E),i(p);var L=u(p,2),O=n(L),b=n(O),V=n(b,!0);i(b);var R=u(b,2);R.__click=[de,I,c];var B=u(R,2);B.__click=[_e,a],i(O),i(L),i(U),i(y),W(()=>{g(h,`flex h-full flex-col items-center overflow-hidden py-2 transition-all duration-1000 ease-in-out ${(!l(a)&&!l(t)&&!l(x)?"w-full":"w-0")??""}`),g(p,`flex h-full flex-col items-center overflow-hidden py-2 transition-all duration-1000 ease-in-out ${(l(x)&&!l(t)?"w-full":"w-0")??""}`),C(M,l(m)),g(L,`flex h-full flex-col items-center overflow-hidden py-2 transition-all duration-1000 ease-in-out ${(l(a)&&!l(t)?"w-full":"w-0")??""}`),S(b,"href",l(c)),C(V,l(c)),g(R,`rounded-full border-2  px-16 text-3xl transition hover:scale-110 ${(l(w)?"text-green-600 border-green-600":"text-white border-white")??""}`)}),se("submit",k,D),ie($,()=>l(s),d=>o(s,d)),F(e,y),X()}ae(["click"]);export{ge as component};
