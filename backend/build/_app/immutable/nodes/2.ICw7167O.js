import{f as I,a as J}from"../chunks/BLfnEI9n.js";import{h as $,R as K,S as Q,i as X,U as Y,c as m,V as z,I as B,W as s,Q as x,D as a,K as G,M as H,O as u,X as h,Y as Z,P as f}from"../chunks/qbn3fhBv.js";import{d as ee,e as te,s as O}from"../chunks/BJ5aQ5tg.js";import{r as ae,s as le}from"../chunks/DitSh0KR.js";function re(e,n,l){var o=e==null?"":""+e;return o===""?null:o}function _(e,n,l,o,i,t){var v=e.__className;if($||v!==l||v===void 0){var r=re(l);(!$||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):e.className=r),e.__className=l}return t}function se(e,n,l=n){var o=new WeakSet;K(e,"input",async i=>{var t=i?e.defaultValue:e.value;if(t=L(e)?T(t):t,l(t),m!==null&&o.add(m),await Q(),t!==(t=n())){var v=e.selectionStart,r=e.selectionEnd,p=e.value.length;if(e.value=t??"",r!==null){var b=e.value.length;v===r&&r===p&&b>p?(e.selectionStart=b,e.selectionEnd=b):(e.selectionStart=v,e.selectionEnd=Math.min(r,b))}}}),($&&e.defaultValue!==e.value||X(n)==null&&e.value)&&(l(L(e)?T(e.value):e.value),m!==null&&o.add(m)),Y(()=>{var i=n();if(e===document.activeElement){var t=z??m;if(o.has(t))return}L(e)&&i===T(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function L(e){var n=e.type;return n==="number"||n==="range"}function T(e){return e===""?null:+e}const ie="https://pithyurl.languidlabs.com";var ne=I('<div class="flex h-full w-full flex-col items-center justify-center gap-16"><div class="flex flex-col items-center gap-4"><h1 class="text-8xl text-primary">PithyURL</h1> <p class="text-4xl">Create Short URLs!</p></div> <div class="h-50 flex pb-2"><div><form class="flex h-full flex-col items-center gap-8 px-8"><input id="longURL" type="url" class="w-96 input py-8 input-primary text-3xl" required/> <button type="submit" class="px-8 text-3xl btn btn-primary btn-wide">→</button></form></div> <div><div class="flex flex-col items-center gap-4"><p class="text-nowrap text-error text-3xl"> </p> <button class="btn btn-primary btn-wide px-8 text-3xl ">←</button></div></div> <div><div class="flex h-full flex-col items-center gap-4 px-8"><a target="_blank" class="text-nowrap text-3xl link link-primary"> </a> <button>⧉</button> <button class="btn btn-success btn-wide text-3xl ">←</button></div></div> <div><span class="loading loading-spinner loading-xl h-16 w-16"></span></div></div></div>');function ve(e,n){B(n,!0);let l=h(!1),o=h(""),i=h(!1),t=h(""),v=h(""),r=h(!1),p=h(!1);async function b(d){s(v,""),s(t,""),s(l,!0),d.preventDefault();try{let c=await P(a(o));s(t,c.url,!0),s(i,!0)}catch(c){s(v,c.message,!0),s(r,!0)}s(l,!1)}async function P(d){const c=await fetch(`${ie}/urls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:d})});if(!c.ok)throw new Error(c.status+c.statusText);return c.json()}function A(d){navigator.clipboard.writeText(d).then(()=>{s(p,!0)}).catch(c=>{console.error("Failed to copy: ",c)}).then(()=>{setTimeout(()=>{s(p,!1)},400)})}var S=ne(),N=x(u(S),2),y=u(N),R=u(y),V=u(R);ae(V),Z(2),f(R),f(y);var w=x(y,2),j=u(w),E=u(j),D=u(E,!0);f(E);var M=x(E,2);M.__click=()=>s(r,!1),f(j),f(w);var g=x(w,2),C=u(g),k=u(C),W=u(k,!0);f(k);var U=x(k,2);U.__click=()=>A(a(t));var q=x(U,2);q.__click=()=>s(i,!1),f(C),f(g);var F=x(g,2);f(N),f(S),G(()=>{_(y,1,`flex h-full flex-col items-center overflow-hidden py-2 transition-all duration-1000 ease-in-out ${!a(i)&&!a(l)&&!a(r)?"w-full":"w-0"}`),_(w,1,`flex h-full flex-col items-center overflow-hidden py-2 transition-all duration-1000 ease-in-out ${a(r)&&!a(l)?"w-full":"w-0"}`),O(D,a(v)),_(g,1,`flex h-full flex-col items-center overflow-hidden py-2 transition-all duration-1000 ease-in-out ${a(i)&&!a(l)?"w-full":"w-0"}`),le(k,"href",a(t)),O(W,a(t)),_(U,1,`btn btn-wide text-3xl transition  btn-outline ${a(p)?"btn-success":""}`),_(F,1,`flex h-full flex-col items-center overflow-hidden duration-1000 transiton ease-in-out ${a(l)?"w-full ":"w-0"}`)}),te("submit",R,b),se(V,()=>a(o),d=>s(o,d)),J(e,S),H()}ee(["click"]);export{ve as component};
